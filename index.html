<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Global Trade Capital</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #0b0f1a;
    color: white;
}

header {
    padding: 20px;
    text-align: center;
    font-size: 28px;
    font-weight: bold;
    background: #111827;
}

.container {
    padding: 20px;
    max-width: 1200px;
    margin: auto;
}

.card {
    background: #111827;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 20px;
}

h2 {
    margin-bottom: 15px;
    border-bottom: 1px solid #333;
    padding-bottom: 10px;
}

.ticker {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px solid #222;
}

.green { color: #00ff88; }
.red { color: #ff4d4d; }

footer {
    text-align: center;
    padding: 20px;
    background: #111827;
    margin-top: 40px;
}
</style>
</head>

<body>

<header>
Global Trade Capital
</header>

<div class="container">

<div class="card">
<h2>Live Market Data</h2>
<div id="market-data">Loading live data...</div>
</div>

</div>

<footer>
Â© 2026 Global Trade Capital
</footer>

<script>
async function loadMarket() {
    try {
        const response = await fetch("/api/market");
        const data = await response.json();

        const container = document.getElementById("market-data");
        container.innerHTML = "";

        data.forEach(stock => {
            const changeClass = stock.change >= 0 ? "green" : "red";

            container.innerHTML += `
                <div class="ticker">
                    <div>${stock.symbol}</div>
                    <div>$${stock.price}</div>
                    <div class="${changeClass}">
                        ${stock.change >= 0 ? "+" : ""}${stock.change}%
                    </div>
                </div>
            `;
        });

    } catch (error) {
        document.getElementById("market-data").innerHTML =
            "Error loading market data.";
        console.error(error);
    }
}

loadMarket();
setInterval(loadMarket, 10000); // refresh every 10 seconds
</script>

</body>
</html>
