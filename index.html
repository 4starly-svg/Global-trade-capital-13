<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GLOBAL TRADING</title>
<style>
  body {
    margin: 0; font-family: 'Arial', sans-serif;
    background-color: #0D1117; color: #F5F5F5;
  }
  header {
    text-align: center; padding: 20px;
  }
  header h1 {
    font-size: 3em; font-weight: bold; color: #1DB954;
  }
  nav {
    display: flex; justify-content: center; gap: 20px; margin-bottom: 20px;
  }
  nav button {
    padding: 15px 30px; font-size: 1.2em; font-weight: bold; border: none; cursor: pointer;
    border-radius: 8px; transition: 0.3s;
  }
  .crypto { background-color: #1DB954; color: #fff; }
  .stocks { background-color: #FF3B30; color: #fff; }
  .exchange { background-color: #007AFF; color: #fff; }
  .ticker, .news-ticker {
    overflow: hidden; white-space: nowrap; background: #161B22; padding: 10px 0;
  }
  .ticker span, .news-ticker span {
    display: inline-block; padding: 0 50px; animation: scroll 30s linear infinite;
  }
  @keyframes scroll { 0% {transform: translateX(100%);} 100% {transform: translateX(-100%);} }
  .section { padding: 20px; text-align: center; }
  .cards { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }
  .card { background: #21262D; border-radius: 10px; padding: 15px; width: 200px; font-weight: bold; }
  .buy { color: #1DB954; font-weight: bold; }
  .sell { color: #FF3B30; font-weight: bold; }
  .footer { text-align: center; padding: 20px; background: #161B22; }
  .toggle-lang { position: absolute; top: 20px; right: 20px; cursor: pointer; color: #F5F5F5; font-weight: bold; }
</style>
</head>
<body>

<div class="toggle-lang" onclick="toggleLang()">Arabic</div>

<header>
  <h1>GLOBAL TRADING</h1>
</header>

<div class="ticker" id="stock-ticker">
  <span>Loading stock ticker...</span>
</div>

<nav>
  <button class="crypto" onclick="showSection('crypto')">Crypto</button>
  <button class="stocks" onclick="showSection('stocks')">Stocks</button>
  <button class="exchange" onclick="showSection('exchange')">Exchange Rate</button>
</nav>

<div class="section" id="crypto" style="display:none;">
  <h2>Crypto</h2>
  <div class="cards" id="crypto-cards"></div>
</div>

<div class="section" id="stocks" style="display:none;">
  <h2>Stocks</h2>
  <div class="cards" id="stock-cards"></div>
</div>

<div class="section" id="exchange" style="display:none;">
  <h2>Exchange Rate</h2>
  <div class="cards" id="exchange-cards"></div>
</div>

<div class="news-ticker" id="news-ticker">
  <span>Loading news feed...</span>
</div>

<div class="footer">
  <h3>Contact Us</h3>
  <p>Email: contact@globaltrade.com | Phone: +218-XXX-XXXX</p>
  <h3>Testimonials</h3>
  <p>"Best trading platform in Libya!" – Jenna</p>
  <p>"Professional and fast." – Amro</p>
</div>

<script>
const apiKeys = {
  alpacaKey: 'YOUR_ALPACA_KEY',
  alpacaSecret: 'YOUR_ALPACA_SECRET'
};

function toggleLang() {
  const langDiv = document.querySelector('.toggle-lang');
  if(langDiv.innerText === 'Arabic') langDiv.innerText = 'English';
  else langDiv.innerText = 'Arabic';
}

function showSection(id){
  document.querySelectorAll('.section').forEach(sec=>sec.style.display='none');
  document.getElementById(id).style.display='block';
}

// --- Stock Ticker ---
async function fetchStocks(){
  try {
    const res = await fetch('https://paper-api.alpaca.markets/v2/assets', {
      headers: {
        'APCA-API-KEY-ID': apiKeys.alpacaKey,
        'APCA-API-SECRET-KEY': apiKeys.alpacaSecret
      }
    });
    const data = await res.json();
    let ticker = document.getElementById('stock-ticker');
    ticker.innerHTML = data.slice(0,10).map(s => `${s.symbol} $${s.last_price || 'N/A'}`).join(' | ');
    let stockCards = document.getElementById('stock-cards');
    stockCards.innerHTML = data.slice(0,10).map(s=>`<div class="card">
      <img src="${s.icon_url || 'https://via.placeholder.com/50'}" width="50"><br>
      ${s.name}<br>
      Price: $${s.last_price || 'N/A'}<br>
      <span class="buy">Buy</span> | <span class="sell">Sell</span>
    </div>`).join('');
  } catch(e){
    console.error('Stock API error', e);
  }
}

// --- Crypto Cards ---
async function fetchCrypto(){
  try {
    const res = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false');
    const data = await res.json();
    let cryptoCards = document.getElementById('crypto-cards');
    cryptoCards.innerHTML = data.map(c=>`<div class="card">
      <img src="${c.image}" width="50"><br>
      ${c.name}<br>
      Price: $${c.current_price}<br>
      <span class="buy">Buy</span> | <span class="sell">Sell</span>
    </div>`).join('');
  } catch(e){ console.error('Crypto API error', e);}
}

// --- Exchange Rates ---
async function fetchExchange(){
  try{
    const res = await fetch('https://api.exchangerate.host/latest?base=USD&symbols=LYD,EUR,GBP');
    const data = await res.json();
    let exchangeCards = document.getElementById('exchange-cards');
    exchangeCards.innerHTML = Object.keys(data.rates).map(k=>`<div class="card">${k}: ${data.rates[k]}</div>`).join('');
  } catch(e){ console.error('Exchange API error', e);}
}

// --- News Ticker ---
async function fetchNews(){
  const newsTicker = document.getElementById('news-ticker');
  newsTicker.innerHTML = '<span>Breaking News: Global trading platform launches in Libya! | Market updates daily | Stay tuned...</span>';
}

// --- Initialize ---
fetchStocks(); fetchCrypto(); fetchExchange(); fetchNews();
</script>

</body>
</html>
